<!DOCTYPE html>
<html>
  <head>
    <title>Weather Matey</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="container">
      <h1 id="city">
        <!--City -->
      </h1>
      <h3 id="feel">
        <!--City -->
      </h3>
      <h4 id="temp">
        <!--Temp -->
      </h4>
      <p id="desc">
        <!-- description -->
      </p>
      <form id="form">
        <input 
          id="zip" 
          type="number" 
          placeholder="zip code"
          title="Please Enter a valid Zip Code"
          pattern="^\d{5}(?:[-\s]\d{4})?$"
        >
        <button type="submit">Search</button>
      </form>
    </div>
    <script src="get-weather.js" type="module"></script>
    <script type="module">
      import getWeather from './get-weather.js'
      // ------------------------------------------------------
      // Developer Code

      // Get Element refererences
      const tempEl = document.getElementById('temp')
      const descEl = document.getElementById('desc')
      const formEl = document.getElementById('form')
      const cityEl = document.getElementById('city')
      const feelEl = document.getElementById('feel')
      const zipInput = document.getElementById('zip')

      // Define event listeners
      formEl.addEventListener('submit', (e) => {
        e.preventDefault()
        const zip = zipInput.value
        const apikey = '532890599a817d71d42d024da67c3160'
        
        
        getWeather(apikey, zip).then((data) => {
          tempEl.innerHTML = `But it's actually ${data.temp}`
          descEl.innerHTML = `Outside looks like ${data.description}`    
          cityEl.innerHTML = `@ ${data.city} (${data.country})`
          feelEl.innerHTML = `Right now it feels like ${data.feels_like}`
        })
      })
          
    </script>
  </body>
</html>
